---
title: 2017第八届蓝桥杯决赛题目解析(6)：观光旅游
date: 2017-05-30
tags: 

---

**题目描述：**

> 跳蚤国正在大力发展旅游业，每个城市都被打造成了旅游景点。
>
> 许多跳蚤想去其他城市旅游，但是由于跳得比较慢，它们的愿望难以实现。这时，小C听说有一种叫做火车的交通工具，在铁路上跑得很快，便抓住了商机，创立了一家铁路公司，向跳蚤国王请示在每两个城市之间都修建铁路。
>
> 然而，由于小C不会扳道岔，火车到一个城市以后只能保证不原路返回，而会随机等概率地驶向与这个城市有铁路连接的另外一个城市。跳蚤国王向广大居民征求意见，结果跳蚤们不太满意，因为这样修建铁路以后有可能只游览了3个城市（含出发的城市）以后就回来了，它们希望能多游览几个城市。于是跳蚤国王要求小C提供一个方案，使得每只跳蚤坐上火车后能多游览几个城市才回来。
> 小C提供了一种方案给跳蚤国王。跳蚤国王想知道这个方案中每个城市的居民旅游的期望时间（设火车经过每段铁路的时间都为1），请你来帮跳蚤国王。

> **【输入格式】**
>
> 输入的第一行包含两个正整数n、m，其中n表示城市的数量，m表示方案中的铁路条数。
> 接下来m行，每行包含两个正整数u、v，表示方案中城市u和城市v之间有一条铁路。
> 保证方案中无重边无自环，每两个城市之间都能经过铁路直接或间接到达，且火车由任意一条铁路到任意一个城市以后一定有路可走。

> **【输出格式】**
>
>   输出$n$行，第$i$行包含一个实数$t_i$，表示方案中城市$i$的居民旅游的期望时间。你应当输出足够多的小数位数，以保证输出的值和真实值之间的绝对或相对误差不超过$e^{-9}$。

> **【样例输入】**
> 4 5
> 1 2
> 2 3
> 3 4
> 4 1
> 1 3

> **【样例输出】**
> 3.333333333333
> 5.000000000000
> 3.333333333333
> 5.000000000000

> **【样例输入】**
>
> 10 15
> 1 2
> 1 9
> 1 5
> 2 3
> 2 7
> 3 4
> 3 10
> 4 5
> 4 8
> 5 6
> 6 7
> 6 10
> 7 8
> 8 9
> 9 10

> **【样例输出】**
> 10.000000000000
> 10.000000000000
> 10.000000000000
> 10.000000000000
> 10.000000000000
> 10.000000000000
> 10.000000000000
> 10.000000000000
> 10.000000000000
> 10.000000000000

> **【数据规模与约定】**
> 对于10%的测试点，$n \le 10$；
> 对于20%的测试点，$n  \le 12$；
> 对于50%的测试点，$n  \le 16$；
> 对于70%的测试点，$n  \le 19$；
> 对于100%的测试点，$4  \le k  \le n  \le 21，1  \le u, v  \le n$。数据有梯度。

> **资源约定：**
>
> 峰值内存消耗 < 256M
>
> CPU消耗  < 1000ms
>
> 请严格按要求输出，不要画蛇添足地打印类似：“请您输入…” 的多余内容。
>
> 所有代码放在同一个源文件中，调试通过后，拷贝提交该源码。
>
> **注意:** main函数需要返回0
>
> **注意:** 只使用ANSI C/ANSI C++ 标准，不要调用依赖于编译环境或操作系统的特殊函数。
>
> **注意:** 所有依赖的函数必须明确地在源文件中 #include <xxx>， 不能通过工程设置而省略常用头文件。提交时，注意选择所期望的编译器类型。



**问题分析：**

​	这道问题真的很难，当时间也很紧，就剩余20分钟左右，考试直接放弃了。现在并没有明确思路，待网上有题解后，有机会再补充。